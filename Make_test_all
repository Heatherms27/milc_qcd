# Make file for exercising Make_test in all of the applications 
# in the working version of the code.

# You probably don't need to be so thorough.
# You can also just run Make_test for one application
# See the instructions in Make_test_template for testing your
# favorite application.
# C.D. 3/17/00

# Note: dense_static_su3 is omitted for want of sample test files
# C.D. 12/06/97

# Note: Neither arb_dirac_eigen nor arb_dirac_invert are debugged
# as parallel code.

#DIRS = \
#  arb_dirac_eigen \
#  arb_dirac_invert \
#  clover_hybrids \
#  h_dibaryon \
#  hqet_heavy_to_light \
#  hvy_qpot \
#  ks_eigen \
#  propagating_form_factor \
#  schroed_ks_dyn \
#  schroed_pg \
#  string_break \
#  symanzik_sl32 \
#  wilson_dynamical \

DIRS = \
   clover_dynamical \
   clover_invert \
   clover_invert2 \
   file_utilities \
   gluon_prop \
   heavy \
   ks_hl_spectrum \
   ks_imp_dyn \
   ks_imp_rhmc \
   ks_imp_invert_multi \
   ks_imp_utilities \
   pure_gauge \
   pw_nr_meson \
   schroed_cl_inv \
   smooth_inst \
   wilson_static

all:
	for dir in ${DIRS};\
	do\
	    (echo "Testing $$dir"; cp Makefile $$dir ; cd $$dir; ${MAKE} -kf Make_test check ${ADDMACRO} > maketest.log 2>&1 )\
	done

clean:
	for dir in ${DIRS};\
	do\
	    cd $$dir; \
	    ${MAKE} -f Make_test clean;\
	done

